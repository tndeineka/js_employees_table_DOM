parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";function e(e,a){return r(e)||n(e,a)||o(e,a)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}function r(e){if(Array.isArray(e))return e}function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={NAME:0,POSITION:1,OFFICE:2,AGE:3,SALARY:4};function l(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var u=function(e){return parseInt(e.slice(1).replace(/,/g,""))};function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}var d=document.body,f=document.querySelector("table"),p=f.querySelector("tbody"),m=f.querySelectorAll("thead th");m.forEach(function(e,t){e.addEventListener("click",function(){b(t)})}),f.addEventListener("click",C),f.addEventListener("dblclick",G);var v=!1,y=null;function h(e){null!==y&&y===e?v=!v:(v=!1,y=e)}function b(e){h(e);var t=Array.from(p.rows);t.sort(function(t,n){var r=t.cells[e].textContent,a=n.cells[e].textContent,o=v?-1:1;switch(e){case c.AGE:return o*(parseInt(r)-parseInt(a));case c.SALARY:return o*(u(r)-u(a));default:return o*r.localeCompare(a)}}),p.innerHTML="",t.forEach(function(e){p.appendChild(e)})}var g=null;function C(e){var t=e.target.closest("tr");t&&p.contains(t)&&(g&&g.classList.remove("active"),t.classList.add("active"),g=t)}var E=[{name:"name",type:"text",tagName:"input"},{name:"position",type:"text",tagName:"input"},{name:"office",tagName:"select",options:["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"]},{name:"age",type:"number",tagName:"input"},{name:"salary",type:"number",tagName:"input"}];function A(e){var t=e.name,n=e.type,r=e.tagName,o=e.options,i=document.createElement("label");i.textContent=s(t)+":";var c=document.createElement(r);if(c.setAttribute("data-qa",t),c.setAttribute("name",t),"input"===e.tagName)c.type=n;else{var l,u=a(o);try{for(u.s();!(l=u.n()).done;){var d=l.value,f=document.createElement("option");f.value=d,f.textContent=d,c.appendChild(f)}}catch(p){u.e(p)}finally{u.f()}}return i.appendChild(c),i}var N=document.createElement("form");N.classList.add("new-employee-form");for(var x=0,S=E;x<S.length;x++){var w=S[x],L=A(w);N.appendChild(L)}var I=document.createElement("button");function O(t){for(var n=document.createElement("tr"),r=0,a=Object.entries(t);r<a.length;r++){var o=e(a[r],2),i=o[0],c=o[1],u=document.createElement("td"),s=c;"salary"===i&&(s="$"+l(s)),u.textContent=s,n.appendChild(u)}return n}function k(t){t.preventDefault();var n=t.target,r=Object.fromEntries(new FormData(n)),o=T(r);if(!o.length){var i=O(r);return p.appendChild(i),n.reset(),void q(10,10,"Success","New employee was created","success")}var c,l=a(o.entries());try{for(l.s();!(c=l.n()).done;){var u=e(c.value,2),s=u[0],d=u[1];q(10+130*s,10,d.title,d.description,"error")}}catch(f){l.e(f)}finally{l.f()}}function T(e){var t=e.name,n=e.position,r=e.office,a=e.age,o=e.salary,i=[];return t&&n&&r&&a&&o?(t.length<4&&i.push({title:"Name is too short",description:"Name has to be at least 4 characters"}),(a<18||a>90)&&i.push({title:"Wrong age",description:"Age has to be between 18 and 90 years old"}),i):(i.push({title:"All fields are required",description:"Please fill all fields"}),i)}function q(e,t,n,r,a){var o=document.createElement("div");o.className="notification ".concat(a),o.style.cssText="top: ".concat(e,"px; right: ").concat(t,"px"),o.setAttribute("data-qa","notification");var i=document.createElement("h2");i.classList.add("title"),i.textContent=n;var c=document.createElement("p");c.textContent=r,o.appendChild(i),o.appendChild(c),document.body.appendChild(o),setTimeout(function(){document.body.removeChild(o)},2e3)}function F(e,t){var n=[];switch(t){case c.NAME:e.length<4&&n.push({title:"Name is too short",description:"Name has to be at least 4 characters"});break;case c.AGE:(e<18||e>90)&&n.push({title:"Wrong age",description:"Age has to be between 18 and 90 years old"});break;case c.OFFICE:E[c.OFFICE].options.includes(e)||n.push({title:"Wrong city",description:"Office should be in one of the cities from the list"})}return n}I.textContent="Save to table",I.type="submit",N.appendChild(I),d.appendChild(N),N.addEventListener("submit",function(e){return k(e)});var j=function(e){return!Number.isNaN(u(e))||!Number.isNaN(+e)?"number":"text"},M=function(e,t,n){var r=n||t;if(t.startsWith("$")){var a=l(+r);return isNaN(a.slice(1))?void(e.textContent=t):void(e.textContent="$"+l(+r))}e.textContent=r},W=function(t,n,r){var o=t.target.value,i=F(o,n.cellIndex);if(i.length&&""!==o){var c,l=a(i.entries());try{for(l.s();!(c=l.n()).done;){var u=e(c.value,2),s=u[0],d=u[1];q(10+130*s,10,d.title,d.description,"error")}}catch(f){l.e(f)}finally{l.f()}n.textContent=r}else M(n,r,o)},$=function(e,t){e.addEventListener("keydown",function(n){"Enter"===n.key&&W(n,e,t),"Escape"===n.key&&(e.textContent=t)})},D=function(e){var t=e.textContent,n=document.createElement("input"),r=j(t);n.classList.add("cell-input"),n.type=r,t.startsWith("$")?n.value=u(t):n.value=t,e.innerHTML="",e.appendChild(n),n.focus(),n.addEventListener("blur",function(n){return W(n,e,t)},{once:!0})};function G(e){e.preventDefault();var t=e.target,n=e.currentTarget.querySelector("tbody"),r=t.closest("td");if(r&&n.contains(r)){var a=r.textContent;r.querySelector(".cell-input")||D(r),$(r,a)}}
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.95336130.js.map